function imgpost(){

        $tempimg1="C:/Users/user1/Pictures/87_logo_big.jpg";
        if (class_exists('CURLFile')) {
            $postfields = array('media' => new CURLFile($tempimg1));
        } else {
            $postfields = array('media' => '@'.$tempimg1);  
        }
        $url='https://qyapi.weixin.qq.com/cgi-bin/media/upload?access_token=E4s20ktp9OazhFwwUOjH0db4j2Cg19v-pYuf7sySyDSnxvdBYU8PLLmOapPa1bgkjidHV2m9IJsVPNEUUdAJpBx_lbgaIwP0mOzMQtcX5tAy3p5-b_7h-61_up8LK-xR3ujgubJQMZQ9xXU1gAIOzsQfCx96Onf8YPswSlZv-cqcN_6nlpxD0z2WKne_s2rT1QVUBrX52Y5uUltm8yrtqw&type=image';
        $ch = curl_init();
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1) ;
        curl_setopt($ch, CURLOPT_BINARYTRANSFER, 1) ;
        curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE); // https请求 不验证证书和hosts
        curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE);
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, $postfields);// data是数组格式
        curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 10) ;//链接超时
        curl_setopt($ch, CURLOPT_TIMEOUT, 30) ; //curl最长执行时间
        curl_setopt($ch,CURLOPT_USERAGENT,'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; SV1; .NET CLR 1.1.4322; .NET CLR 2.0.50727)');
        $result = curl_exec($ch);
        curl_close($ch);
        $res=json_decode($result,true);
        dump($res);
    }